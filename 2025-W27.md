---
tags:
  - weekly
  - plans
  - logs
aliases:
  - weekly plan
aim:
advice:
---


### Focus Goal 

- [ ]  experiment - invideo - retention editing videos - script + one video for product
- [ ] ritesh - blog + data as a serice for review scraping + 10 evals done right 
- [ ] answermentor - basic reactor pipeline up - soft launch on friday
- [ ] estate - pagination fix 


#### Not Urgent Not Important
- [ ] 

#### Reading list 


| Book             | Status      |
| ---------------- | ----------- |
| IR book stanford | chapter 001 |
| HTWFIF           | 001         |
| DDIA             | 003         |
|                  |             |
logs , 

crowdstrike -- being far head of ahead. 

**Three layers of security** 
- observability in llm 
- agents - actions  and trust graph -- did they take the right action  (attack suface clasficiatoin -- map it to known risk and guardrails ) -- LLM trust graph 
- TRUST GRAPH  



- prompt interceptor - classify 

new industries - acquisition path 
- IP + GTM 


mallelable sioftware 


rust and doing more work 
one2N 
saharj software 



browser automation libraries and interesting takes on them. browser-use


----

What roles do you see for me in org?
- Tinymesh - RnD team lead 
- AI practical experience - RAG, chatbots, 

Market large 
- Trust graph -- how will markget grow?

data security + threat analysis?

tick in the box? is the team skilled?
 
-----



Here are the steps


### way 001 
- [ ] deploy with old version
- [ ] add schema metadata field and serde default 
- [ ] re deploy

```bash
The replica returned a rejection error: reject code CanisterError, reject message Error from Canister bkyz2-fmaaa-aaaaa-qaaaq-cai: Canister called `ic0.trap` with message: Failed to restore stable state: Custom(Fail to decode argument 0

Caused by:
    Subtyping error: Type mismatch at /home/abhishek/.cargo/registry/src/index.crates.io-6f17d22bba15001f/candid-0.10.10/src/de.rs:994)
Canister Backtrace:
ic_cdk::api::trap
estate_backend::post_upgrade
ic_cdk::futures::spawn
canister_post_upgrade

```

### way 002
- old version deploy
- schema metadata with Option 
- re deploy
- done


- add payment_id_v2 field: String and write migration 
- update the post_upgrade hook method
- re deploy (does not work )
```bash
Installing canisters...
Upgrading code for canister estate_backend, with canister ID bkyz2-fmaaa-aaaaa-qaaaq-cai
WARNING!
Candid interface compatibility check failed for canister 'estate_backend'.
You are making a BREAKING change. Other canisters or frontend clients relying on your canister may stop working.

Method add_booking: func (text, Booking) -> (Result) is not a subtype of func (text, Booking/1) -> (Result/1)
Do you want to proceed? yes/No
yes
Error: Failed while trying to deploy canisters.
Caused by: Failed while trying to install all canisters.
Caused by: Failed to install wasm module to canister 'estate_backend'.
Caused by: Failed during wasm installation call
Caused by: The replica returned a rejection error: reject code CanisterError, reject message Error from Canister bkyz2-fmaaa-aaaaa-qaaaq-cai: Canister called `ic0.trap` with message: Failed to restore stable state: Custom(Fail to decode argument 0

Caused by:
    Subtyping error: field payment_id_v2 is not optional field)
Canister Backtrace:
ic_cdk::api::trap
estate_backend::post_upgrade
ic_cdk::futures::spawn
canister_post_upgrade
.

```

### way 003 

- old code deeploy
- change pre_upgrade and post_upgrade to use ciborium, like yral does.
This is a two step migration 
1. pre_upgrade (ciborium) + post_upgrade (old)
2. pre_upgrade (ciborium) + post_upgrade (ciborium)


##### Way two

way 003-001 
- add schema in canister state 
- let migrationEngine run in post_upgrade hook


way 003-002
- run schema migration for payment_v2 field.
	- test with payment_id: 0 (done)
	- test with payment_id: 98989 (pending)
l
##### Way one 

way 003-A0



| version | features                                                  |
| ------- | --------------------------------------------------------- |
| 0.6.1   | pre_upgrade hook to ciborium                              |
| 0.6.2   | post_upgrade hook to ciborium                             |
| 0.6.3   | migration manager                                         |
| 0.6.4   | migration for payment_id_v2 and building payment_id_index |
